import{s as W,e as J,V as K,u as V,aC as Y,aB as Q,r as x,w as X,g as ee,o as te,M as E,G as ne,O as A,H as P,at as se,K as M,a as L,I as re,j as oe,a2 as w,y as ae,z as le,E as ie,J as ue,f as ce,ai as de}from"./runtime-core.esm-bundler-08e2c704.js";import{v as fe,T as me,f as ve}from"./runtime-dom.esm-bundler-a91390dd.js";var pe=Object.defineProperty,ge=Object.defineProperties,ye=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,we=(e,t)=>{for(var n in t||(t={}))be.call(t,n)&&S(e,n,t[n]);if(B)for(var n of B(t))xe.call(t,n)&&S(e,n,t[n]);return e},he=(e,t)=>ge(e,ye(t));function Re(e,t){var n;const s=W();return J(()=>{s.value=e()},he(we({},t),{flush:(n=t==null?void 0:t.flush)!=null?n:"sync"})),K(s)}var D;const N=typeof window<"u",Ze=e=>typeof e<"u",Ke=e=>typeof e=="boolean",Me=e=>typeof e=="function",G=e=>typeof e=="number",Ge=e=>typeof e=="string",_=()=>{},He=N&&((D=window==null?void 0:window.navigator)==null?void 0:D.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function C(e){return typeof e=="function"?e():V(e)}function H(e,t){function n(...s){return new Promise((o,r)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(o).catch(r)})}return n}function $e(e,t={}){let n,s,o=_;const r=u=>{clearTimeout(u),o(),o=_};return u=>{const f=C(e),d=C(t.maxWait);return n&&r(n),f<=0||d!==void 0&&d<=0?(s&&(r(s),s=null),Promise.resolve(u())):new Promise((y,g)=>{o=t.rejectOnCancel?g:y,d&&!s&&(s=setTimeout(()=>{n&&r(n),s=null,y(u())},d)),n=setTimeout(()=>{s&&r(s),s=null,y(u())},f)})}}function _e(e,t=!0,n=!0,s=!1){let o=0,r,c=!0,u=_,f;const d=()=>{r&&(clearTimeout(r),r=void 0,u(),u=_)};return g=>{const l=C(e),m=Date.now()-o,v=()=>f=g();return d(),l<=0?(o=Date.now(),v()):(m>l&&(n||!c)?(o=Date.now(),v()):t&&(f=new Promise((a,i)=>{u=s?i:a,r=setTimeout(()=>{o=Date.now(),c=!0,a(v()),d()},Math.max(0,l-m))})),!n&&!r&&(r=setTimeout(()=>c=!0,l)),c=!1,f)}}function Ue(e){return e}function Ce(e){return Y()?(Q(e),!0):!1}function Ie(e,t=200,n={}){return H($e(t,n),e)}function qe(e,t=200,n={}){const s=x(e.value),o=Ie(()=>{s.value=e.value},t,n);return X(e,()=>o()),s}function We(e,t=200,n=!1,s=!0,o=!1){return H(_e(t,n,s,o),e)}function Je(e,t=!0){ee()?te(e):t?e():E(e)}function Ye(e,t,n={}){const{immediate:s=!0}=n,o=x(!1);let r=null;function c(){r&&(clearTimeout(r),r=null)}function u(){o.value=!1,c()}function f(...d){c(),o.value=!0,r=setTimeout(()=>{o.value=!1,r=null,e(...d)},C(t))}return s&&(o.value=!0,N&&f()),Ce(u),{isPending:K(o),start:f,stop:u}}function Pe(e){return e==null}const Qe=e=>e===void 0,Xe=e=>!e&&e!==0||ne(e)&&e.length===0||A(e)&&!Object.keys(e).length,et=e=>typeof Element>"u"?!1:e instanceof Element,tt=e=>Pe(e),Ne=e=>P(e)?!Number.isNaN(Number(e)):!1,U=(e="")=>e.split(" ").filter(t=>!!t.trim()),nt=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},j=(e,t)=>{!e||!t.trim()||e.classList.add(...U(t))},I=(e,t)=>{!e||!t.trim()||e.classList.remove(...U(t))},h=(e,t)=>{var n;if(!N||!e||!t)return"";let s=se(t);s==="float"&&(s="cssFloat");try{const o=e.style[s];if(o)return o;const r=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return r?r[s]:""}catch{return e.style[s]}};function st(e,t="px"){if(!e)return"";if(G(e)||Ne(e))return`${e}${t}`;if(P(e))return e}const k="el",Le="is-",b=(e,t,n,s,o)=>{let r=`${e}-${t}`;return n&&(r+=`-${n}`),s&&(r+=`__${s}`),o&&(r+=`--${o}`),r},Te=Symbol("localeContextKey"),Oe=e=>{const t=e||M(Te,x(k));return L(()=>V(t)||k)},Ve=(e,t)=>{const n=Oe(t);return{namespace:n,b:(a="")=>b(n.value,e,a,"",""),e:a=>a?b(n.value,e,"",a,""):"",m:a=>a?b(n.value,e,"","",a):"",be:(a,i)=>a&&i?b(n.value,e,a,i,""):"",em:(a,i)=>a&&i?b(n.value,e,"",a,i):"",bm:(a,i)=>a&&i?b(n.value,e,a,"",i):"",bem:(a,i,p)=>a&&i&&p?b(n.value,e,a,i,p):"",is:(a,...i)=>{const p=i.length>=1?i[0]:!0;return a&&p?`${Le}${a}`:""},cssVar:a=>{const i={};for(const p in a)a[p]&&(i[`--${n.value}-${p}`]=a[p]);return i},cssVarName:a=>`--${n.value}-${a}`,cssVarBlock:a=>{const i={};for(const p in a)a[p]&&(i[`--${n.value}-${e}-${p}`]=a[p]);return i},cssVarBlockName:a=>`--${n.value}-${e}-${a}`}},z=x(0),Ee=2e3,Ae=Symbol("zIndexContextKey"),Be=e=>{const t=e||M(Ae,void 0),n=L(()=>{const r=V(t);return G(r)?r:Ee}),s=L(()=>n.value+z.value);return{initialZIndex:n,currentZIndex:s,nextZIndex:()=>(z.value++,s.value)}};function Se(e){let t;const n=x(!1),s=re({...e,originalPosition:"",originalOverflow:"",visible:!1});function o(l){s.text=l}function r(){const l=s.parent,m=g.ns;if(!l.vLoadingAddClassList){let v=l.getAttribute("loading-number");v=Number.parseInt(v)-1,v?l.setAttribute("loading-number",v.toString()):(I(l,m.bm("parent","relative")),l.removeAttribute("loading-number")),I(l,m.bm("parent","hidden"))}c(),y.unmount()}function c(){var l,m;(m=(l=g.$el)==null?void 0:l.parentNode)==null||m.removeChild(g.$el)}function u(){var l;e.beforeClose&&!e.beforeClose()||(n.value=!0,clearTimeout(t),t=window.setTimeout(f,400),s.visible=!1,(l=e.closed)==null||l.call(e))}function f(){if(!n.value)return;const l=s.parent;n.value=!1,l.vLoadingAddClassList=void 0,r()}const d=oe({name:"ElLoading",setup(l,{expose:m}){const v=Ve("loading"),a=Be();return m({ns:v,zIndex:a}),()=>{const i=s.spinner||s.svg,p=w("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...i?{innerHTML:i}:{}},[w("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),q=s.text?w("p",{class:v.b("text")},[s.text]):void 0;return w(me,{name:v.b("fade"),onAfterLeave:f},{default:ae(()=>[le(ie("div",{style:{backgroundColor:s.background||""},class:[v.b("mask"),s.customClass,s.fullscreen?"is-fullscreen":""]},[w("div",{class:v.b("spinner")},[p,q])]),[[fe,s.visible]])])})}}}),y=ve(d),g=y.mount(document.createElement("div"));return{...ue(s),setText:o,removeElLoadingChild:c,close:u,handleAfterLeave:f,vm:g,get $el(){return g.$el}}}let $;const T=function(e={}){if(!N)return;const t=De(e);if(t.fullscreen&&$)return $;const n=Se({...t,closed:()=>{var o;(o=t.closed)==null||o.call(t),t.fullscreen&&($=void 0)}});je(t,t.parent,n),F(t,t.parent,n),t.parent.vLoadingAddClassList=()=>F(t,t.parent,n);let s=t.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",t.parent.setAttribute("loading-number",s),t.parent.appendChild(n.$el),E(()=>n.visible.value=t.visible),t.fullscreen&&($=n),n},De=e=>{var t,n,s,o;let r;return P(e.target)?r=(t=document.querySelector(e.target))!=null?t:document.body:r=e.target||document.body,{parent:r===document.body||e.body?document.body:r,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:r===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(s=e.lock)!=null?s:!1,customClass:e.customClass||"",visible:(o=e.visible)!=null?o:!0,target:r}},je=async(e,t,n)=>{const{nextZIndex:s}=n.vm.zIndex,o={};if(e.fullscreen)n.originalPosition.value=h(document.body,"position"),n.originalOverflow.value=h(document.body,"overflow"),o.zIndex=s();else if(e.parent===document.body){n.originalPosition.value=h(document.body,"position"),await E();for(const r of["top","left"]){const c=r==="top"?"scrollTop":"scrollLeft";o[r]=`${e.target.getBoundingClientRect()[r]+document.body[c]+document.documentElement[c]-Number.parseInt(h(document.body,`margin-${r}`),10)}px`}for(const r of["height","width"])o[r]=`${e.target.getBoundingClientRect()[r]}px`}else n.originalPosition.value=h(t,"position");for(const[r,c]of Object.entries(o))n.$el.style[r]=c},F=(e,t,n)=>{const s=n.vm.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?I(t,s.bm("parent","relative")):j(t,s.bm("parent","relative")),e.fullscreen&&e.lock?j(t,s.bm("parent","hidden")):I(t,s.bm("parent","hidden"))},O=Symbol("ElLoading"),R=(e,t)=>{var n,s,o,r;const c=t.instance,u=l=>A(t.value)?t.value[l]:void 0,f=l=>{const m=P(l)&&(c==null?void 0:c[l])||l;return m&&x(m)},d=l=>f(u(l)||e.getAttribute(`element-loading-${de(l)}`)),y=(n=u("fullscreen"))!=null?n:t.modifiers.fullscreen,g={text:d("text"),svg:d("svg"),svgViewBox:d("svgViewBox"),spinner:d("spinner"),background:d("background"),customClass:d("customClass"),fullscreen:y,target:(s=u("target"))!=null?s:y?void 0:e,body:(o=u("body"))!=null?o:t.modifiers.body,lock:(r=u("lock"))!=null?r:t.modifiers.lock};e[O]={options:g,instance:T(g)}},ke=(e,t)=>{for(const n of Object.keys(t))ce(t[n])&&(t[n].value=e[n])},Z={mounted(e,t){t.value&&R(e,t)},updated(e,t){const n=e[O];t.oldValue!==t.value&&(t.value&&!t.oldValue?R(e,t):t.value&&t.oldValue?A(t.value)&&ke(t.value,n.options):n==null||n.instance.close())},unmounted(e){var t;(t=e[O])==null||t.instance.close()}},rt={install(e){e.directive("loading",Z),e.config.globalProperties.$loading=T},directive:Z,service:T};export{Je as A,Ue as B,Me as C,Ze as D,rt as E,Te as F,Ae as G,Ee as H,Ke as a,G as b,Ve as c,st as d,et as e,Pe as f,Be as g,We as h,N as i,Xe as j,Qe as k,nt as l,k as m,Ye as n,j as o,I as p,h as q,qe as r,Re as s,Ce as t,Oe as u,tt as v,C as w,Ge as x,_ as y,He as z};
