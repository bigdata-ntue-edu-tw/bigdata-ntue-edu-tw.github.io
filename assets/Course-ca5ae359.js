import{_ as w,I as x,t as b,w as v,i as D,h as n,l as a,d as o,y as p,J as g,K as k,G as B,e as r,f as E,j as T,H as u,A as h,B as M}from"./index-d33f5335.js";import{s as N,e as S}from"./loading-01b42591.js";const Y={setup(){const d=x(),m=()=>{p.push({name:g})},f=(c,e)=>{p.push({name:k,params:{id:e}})},s=async(c,e)=>{try{await B.confirm("Are you sure you want to delete this course?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}),await d.deleteCourse(e)}catch(_){console.log(_)}},{courses:l}=b(d);return v(l,c=>{N(),l.value.map(e=>e.formatDate=M(Number(e.date)).format("YYYY-MM-DD")),S()},{immediate:!0,deep:!0}),{tableData:l,addCourse:m,handleEdit:f,handleDelete:s}}},$={class:"inner"},A={class:"content-box"},I={style:{}},O={style:{}},R={style:{}},V={style:{}};function z(d,m,f,s,l,c){const e=r("el-button"),_=r("el-form-item"),i=r("el-table-column"),y=r("el-table");return E(),D("div",$,[n("div",A,[a(_,null,{default:o(()=>[a(e,{type:"primary",onClick:T(s.addCourse,["prevent"])},{default:o(()=>[u("+ 新增課程")]),_:1},8,["onClick"])]),_:1}),a(y,{data:s.tableData,style:{width:"80%"}},{default:o(()=>[a(i,{label:"課程日期",width:"180"},{default:o(t=>[n("div",I,[n("span",O,h(t.row.formatDate),1)])]),_:1}),a(i,{label:"標題"},{default:o(t=>[n("div",R,[n("span",V,h(t.row.content.title),1)])]),_:1}),a(i,{label:"操作"},{default:o(t=>[a(e,{size:"small",onClick:C=>s.handleEdit(t.$index,t.row._id)},{default:o(()=>[u("編輯")]),_:2},1032,["onClick"]),a(e,{size:"small",type:"danger",onClick:C=>s.handleDelete(t.$index,t.row._id)},{default:o(()=>[u("刪除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])}const U=w(Y,[["render",z],["__scopeId","data-v-77402820"]]);export{U as default};
