import{s as b,h as w,e as x}from"./loading-bb5f32dc.js";import{k as v}from"./firebase-51484e84.js";import{b as D}from"./runtime-dom.esm-bundler-a91390dd.js";import{u as k}from"./course-472c529b.js";import{r as f,a as g,b as E}from"./index-2b1e9f4b.js";import{_ as B}from"./plugin-vue_export-helper-c27b6911.js";import{N}from"./index-88ce323e.js";import{w as T,l as M,m as n,E as o,y as a,a3 as l,k as S,C as m,D as h}from"./runtime-core.esm-bundler-08e2c704.js";import"./index-1d84a674.js";import"./index-51ec6782.js";const Y={setup(){const i=k(),u=()=>{f.push({name:g})},p=(d,e)=>{f.push({name:E,params:{id:e}})},s=async(d,e)=>{try{await N.confirm("Are you sure you want to delete this course?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}),await i.deleteCourse(e)}catch(c){console.log(c)}},{courses:r}=v(i);return T(r,d=>{b(),r.value.map(e=>e.formatDate=w(Number(e.date)).format("YYYY-MM-DD")),x()},{immediate:!0,deep:!0}),{tableData:r,addCourse:u,handleEdit:p,handleDelete:s}}},$={class:"inner"},O={class:"content-box"},R={style:{}},V={style:{}},z={style:{}},A={style:{}};function I(i,u,p,s,r,d){const e=l("el-button"),c=l("el-form-item"),_=l("el-table-column"),C=l("el-table");return S(),M("div",$,[n("div",O,[o(c,null,{default:a(()=>[o(e,{type:"primary",onClick:D(s.addCourse,["prevent"])},{default:a(()=>[m("+ 新增課程")]),_:1},8,["onClick"])]),_:1}),o(C,{data:s.tableData,style:{width:"80%"}},{default:a(()=>[o(_,{label:"課程日期",width:"180"},{default:a(t=>[n("div",R,[n("span",V,h(t.row.formatDate),1)])]),_:1}),o(_,{label:"標題"},{default:a(t=>[n("div",z,[n("span",A,h(t.row.content.title),1)])]),_:1}),o(_,{label:"操作"},{default:a(t=>[o(e,{size:"small",onClick:y=>s.handleEdit(t.$index,t.row._id)},{default:a(()=>[m("編輯")]),_:2},1032,["onClick"]),o(e,{size:"small",type:"danger",onClick:y=>s.handleDelete(t.$index,t.row._id)},{default:a(()=>[m("刪除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])}const P=B(Y,[["render",I],["__scopeId","data-v-77402820"]]);export{P as default};
