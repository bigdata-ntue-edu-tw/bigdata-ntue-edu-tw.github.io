import{w as b}from"./moment-820a4055.js";import{k as w}from"./firebase-917d75a2.js";import{b as x}from"./runtime-dom.esm-bundler-d3981d03.js";import{u as D}from"./activity-099053de.js";import{s as C,e as k}from"./loading-f001d740.js";import{r as f,c as g,d as T}from"./index-b5c83b15.js";import{_ as A}from"./plugin-vue_export-helper-c27b6911.js";import{N as B}from"./index-97bb3002.js";import{w as E,l as I,m as s,E as o,y as a,a3 as l,k as Y,C as m,D as y}from"./runtime-core.esm-bundler-1860ea7f.js";import"./index-a861324b.js";const N={setup(){const r=D(),p=()=>{f.push({name:g})},u=(c,t)=>{f.push({name:T,params:{id:t}})},n=async(c,t)=>{try{await B.confirm("Are you sure you want to delete this post?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}),await r.deleteActivity(t)}catch(d){console.log(d)}},{activies:i}=w(r);return E(i,c=>{C(),i.value.map(t=>t.formatDate=b(Number(t.date)).format("YYYY-MM-DD")),k()},{immediate:!0,deep:!0}),{tableData:i,addPost:p,handleEdit:u,handleDelete:n}}},V={class:"inner"},M={class:"content-box"},$={style:{}},S={style:{}},z={style:{}},L={style:{}};function P(r,p,u,n,i,c){const t=l("el-button"),d=l("el-form-item"),_=l("el-table-column"),h=l("el-table");return Y(),I("div",V,[s("div",M,[o(d,null,{default:a(()=>[o(t,{type:"primary",onClick:x(n.addPost,["prevent"])},{default:a(()=>[m("+ 新增公告")]),_:1},8,["onClick"])]),_:1}),o(h,{data:n.tableData,style:{width:"80%"}},{default:a(()=>[o(_,{label:"公告日期",width:"180"},{default:a(e=>[s("div",$,[s("span",S,y(e.row.formatDate),1)])]),_:1}),o(_,{label:"標題"},{default:a(e=>[s("div",z,[s("span",L,y(e.row.content.title),1)])]),_:1}),o(_,{label:"操作"},{default:a(e=>[o(t,{size:"small",onClick:v=>n.handleEdit(e.$index,e.row._id)},{default:a(()=>[m("編輯")]),_:2},1032,["onClick"]),o(t,{size:"small",type:"danger",onClick:v=>n.handleDelete(e.$index,e.row._id)},{default:a(()=>[m("刪除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])}const Q=A(N,[["render",P],["__scopeId","data-v-77ba0b03"]]);export{Q as default};
