import{b as T}from"./runtime-dom.esm-bundler-d3981d03.js";import{u as P}from"./auth-69b1bf9c.js";import{ay as V,az as H,r as _,w as O,u as R,a as A,x as M,y as k,a3 as y,k as f,m as n,q as U,l as g,B as h,E as N,aD as D,aE as W}from"./runtime-core.esm-bundler-1860ea7f.js";import{_ as z}from"./plugin-vue_export-helper-c27b6911.js";import"./firebase-917d75a2.js";import"./index-08706a63.js";function G(t){return V()?(H(t),!0):!1}var F;const m=typeof window<"u",Q=t=>typeof t=="string",C=()=>{};m&&((F=window==null?void 0:window.navigator)!=null&&F.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function p(t){var e;const s=R(t);return(e=s==null?void 0:s.$el)!=null?e:s}const q=m?window:void 0;m&&window.document;m&&window.navigator;m&&window.location;function L(...t){let e,s,o,r;if(Q(t[0])?([s,o,r]=t,e=q):[e,s,o,r]=t,!e)return C;let c=C;const d=O(()=>p(e),v=>{c(),v&&(v.addEventListener(s,o,r),c=()=>{v.removeEventListener(s,o,r),c=C})},{immediate:!0,flush:"post"}),l=()=>{d(),c()};return G(l),l}function j(t,e,s={}){const{window:o=q,ignore:r,capture:c=!0}=s;if(!o)return;const d=_(!0);let l;const v=i=>{o.clearTimeout(l);const u=p(t),S=i.composedPath();!u||u===i.target||S.includes(u)||!d.value||r&&r.length>0&&r.some(I=>{const b=p(I);return b&&(i.target===b||S.includes(b))})||e(i)},a=[L(o,"click",v,{passive:!0,capture:c}),L(o,"pointerdown",i=>{const u=p(t);d.value=!!u&&!i.composedPath().includes(u)},{passive:!0}),L(o,"pointerup",i=>{if(i.button===0){const u=i.composedPath();i.composedPath=()=>u,l=o.setTimeout(()=>v(i),50)}},{passive:!0})];return()=>a.forEach(i=>i())}const E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},x="__vueuse_ssr_handlers__";E[x]=E[x]||{};E[x];var B;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(B||(B={}));const J={setup(){const t=P(),e=()=>t.googleSignIn(),s=()=>t.logoutUser(),o=A(()=>!!t.user.id),r=()=>{l.value=!l.value},c=_(null),d=_(null),l=_(!1);return j(c,()=>{l.value=!1},{ignore:[d]}),{showNavbar:l,isLogin:o,logout:s,authStore:t,googleLogin:e,toggleNavbar:r,navbarMenuRef:c,navbarBurgerRef:d}}},w=t=>(D("data-v-3f8a416a"),t=t(),W(),t),K={class:"navbar navbar-expand-custom navbar-mainbg"},X=w(()=>n("a",{class:"navbar-brand navbar-logo",href:"#/"},[n("div",{class:"logo"})],-1)),Y=w(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 14 14"},[n("path",{fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 2H6m5 5H3.5m5 5h-8"})],-1)),Z=[Y],$={class:"navbar-nav ml-auto"},oo={class:"nav-item"},eo={class:"nav-item"},to={class:"nav-item"},no={key:0,class:"nav-item"},ao={key:1,class:"nav-item"},so={key:2,class:"nav-item"},io={key:3,class:"nav-item"},lo={key:4,class:"nav-item"},ro={class:"nav-item"},co=w(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 1536 1536"},[n("path",{fill:"#FFF",d:"M1451 0q35 0 60 25t25 60v1366q0 35-25 60t-60 25h-391V941h199l30-232h-229V561q0-56 23.5-84t91.5-28l122-1V241q-63-9-178-9q-136 0-217.5 80T820 538v171H620v232h200v595H85q-35 0-60-25t-25-60V85q0-35 25-60T85 0h1366z"})],-1)),vo=[co],uo={class:"wrapper"},fo=w(()=>n("footer",null,"© 2023",-1));function go(t,e,s,o,r,c){const d=y("router-view"),l=y("el-main"),v=y("el-container");return f(),M(v,{class:"is-vertical"},{default:k(()=>[n("header",null,[n("nav",K,[X,n("button",{class:"navbar-toggler",type:"button",onClick:e[0]||(e[0]=(...a)=>o.toggleNavbar&&o.toggleNavbar(...a)),"aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",ref:"navbarBurgerRef"},Z,512),n("div",{class:U(["collapse navbar-collapse",{open:o.showNavbar}]),id:"navbarSupportedContent",ref:"navbarMenuRef"},[n("ul",$,[n("li",oo,[o.authStore.user.id?(f(),g("a",{key:0,onClick:e[1]||(e[1]=T((...a)=>o.logout&&o.logout(...a),["prevent"]))},"登出")):(f(),g("a",{key:1,onClick:e[2]||(e[2]=T((...a)=>o.googleLogin&&o.googleLogin(...a),["prevent"]))},"登入"))]),n("li",eo,[n("a",{class:"nav-link",href:"#/team",onClick:e[3]||(e[3]=a=>o.showNavbar=!1)},"團隊介紹")]),n("li",to,[n("a",{class:"nav-link",href:"#/resource",onClick:e[4]||(e[4]=a=>o.showNavbar=!1)},"教材、講座資源")]),o.isLogin?(f(),g("li",no,[n("a",{class:"nav-link",href:"#/rent-list",onClick:e[5]||(e[5]=a=>o.showNavbar=!1)},"已租借器材")])):h("",!0),o.isLogin?(f(),g("li",ao,[n("a",{class:"nav-link",href:"#/rent",onClick:e[6]||(e[6]=a=>o.showNavbar=!1)},"租借器材")])):h("",!0),o.isLogin&&o.authStore.user.role==="teacher"?(f(),g("li",so,[n("a",{class:"nav-link",href:"#/course",onClick:e[7]||(e[7]=a=>o.showNavbar=!1)},"課程")])):h("",!0),o.isLogin&&o.authStore.user.role==="teacher"?(f(),g("li",io,[n("a",{class:"nav-link",href:"#/post",onClick:e[8]||(e[8]=a=>o.showNavbar=!1)},"公告")])):h("",!0),o.isLogin&&o.authStore.user.role==="teacher"?(f(),g("li",lo,[n("a",{class:"nav-link",href:"#/activity",onClick:e[9]||(e[9]=a=>o.showNavbar=!1)},"活動")])):h("",!0),n("li",ro,[n("a",{href:"https://m.facebook.com/NTUEBIGDATAEDU/?mibextid=LQQJ4d",class:"nav-link",target:"_blank`",onClick:e[10]||(e[10]=a=>o.showNavbar=!1)},vo)])])],2)])]),n("div",uo,[N(v,{class:"is-vertical"},{default:k(()=>[N(l,{id:"el-main"},{default:k(()=>[N(d)]),_:1})]),_:1})]),fo]),_:1})}const yo=z(J,[["render",go],["__scopeId","data-v-3f8a416a"]]);export{yo as default};
