import{s as b,h as w,e as x}from"./loading-bb5f32dc.js";import{k as D}from"./firebase-51484e84.js";import{b as C}from"./runtime-dom.esm-bundler-a91390dd.js";import{u as k}from"./activity-3634b33e.js";import{r as f,c as g,d as T}from"./index-2b1e9f4b.js";import{_ as A}from"./plugin-vue_export-helper-c27b6911.js";import{N as B}from"./index-88ce323e.js";import{w as E,l as I,m as s,E as o,y as a,a3 as l,k as Y,C as m,D as h}from"./runtime-core.esm-bundler-08e2c704.js";import"./index-1d84a674.js";import"./index-51ec6782.js";const N={setup(){const r=k(),p=()=>{f.push({name:g})},u=(c,t)=>{f.push({name:T,params:{id:t}})},n=async(c,t)=>{try{await B.confirm("Are you sure you want to delete this post?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}),await r.deleteActivity(t)}catch(d){console.log(d)}},{activies:i}=D(r);return E(i,c=>{b(),i.value.map(t=>t.formatDate=w(Number(t.date)).format("YYYY-MM-DD")),x()},{immediate:!0,deep:!0}),{tableData:i,addPost:p,handleEdit:u,handleDelete:n}}},V={class:"inner"},M={class:"content-box"},$={style:{}},S={style:{}},z={style:{}},L={style:{}};function P(r,p,u,n,i,c){const t=l("el-button"),d=l("el-form-item"),_=l("el-table-column"),y=l("el-table");return Y(),I("div",V,[s("div",M,[o(d,null,{default:a(()=>[o(t,{type:"primary",onClick:C(n.addPost,["prevent"])},{default:a(()=>[m("+ 新增公告")]),_:1},8,["onClick"])]),_:1}),o(y,{data:n.tableData,style:{width:"80%"}},{default:a(()=>[o(_,{label:"公告日期",width:"180"},{default:a(e=>[s("div",$,[s("span",S,h(e.row.formatDate),1)])]),_:1}),o(_,{label:"標題"},{default:a(e=>[s("div",z,[s("span",L,h(e.row.content.title),1)])]),_:1}),o(_,{label:"操作"},{default:a(e=>[o(t,{size:"small",onClick:v=>n.handleEdit(e.$index,e.row._id)},{default:a(()=>[m("編輯")]),_:2},1032,["onClick"]),o(t,{size:"small",type:"danger",onClick:v=>n.handleDelete(e.$index,e.row._id)},{default:a(()=>[m("刪除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])}const Q=A(N,[["render",P],["__scopeId","data-v-77ba0b03"]]);export{Q as default};
