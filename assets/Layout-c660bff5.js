import{g as R,o as V,r as b,w as A,u as H,_ as M,a as O,c as U,b as W,d as N,e as y,f,h as n,n as D,i as g,j as E,k as _,l as C,p as G,m as j}from"./index-0f5c6cec.js";var S;const B=typeof window<"u",z=t=>typeof t=="string",L=()=>{};B&&((S=window==null?void 0:window.navigator)!=null&&S.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Q(t){return R()?(V(t),!0):!1}function m(t){var o;const l=H(t);return(o=l==null?void 0:l.$el)!=null?o:l}const I=B?window:void 0;function p(...t){let o,l,e,r;if(z(t[0])?([l,e,r]=t,o=I):[o,l,e,r]=t,!o)return L;let d=L;const u=A(()=>m(o),v=>{d(),v&&(v.addEventListener(l,e,r),d=()=>{v.removeEventListener(l,e,r),d=L})},{immediate:!0,flush:"post"}),i=()=>{u(),d()};return Q(i),i}function J(t,o,l={}){const{window:e=I,ignore:r,capture:d=!0,detectIframe:u=!1}=l;if(!e)return;const i=b(!0);let v;const a=s=>{e.clearTimeout(v);const c=m(t),h=s.composedPath();!c||c===s.target||h.includes(c)||!i.value||r&&r.length>0&&r.some(q=>{const k=m(q);return k&&(s.target===k||h.includes(k))})||o(s)},P=[p(e,"click",a,{passive:!0,capture:d}),p(e,"pointerdown",s=>{const c=m(t);i.value=!!c&&!s.composedPath().includes(c)},{passive:!0}),p(e,"pointerup",s=>{if(s.button===0){const c=s.composedPath();s.composedPath=()=>c,v=e.setTimeout(()=>a(s),50)}},{passive:!0}),u&&p(e,"blur",s=>{var c;const h=m(t);((c=document.activeElement)==null?void 0:c.tagName)==="IFRAME"&&!(h!=null&&h.contains(document.activeElement))&&o(s)})].filter(Boolean);return()=>P.forEach(s=>s())}const T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},x="__vueuse_ssr_handlers__";T[x]=T[x]||{};var F;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(F||(F={}));const K={setup(){const t=O(),o=()=>t.googleSignIn(),l=()=>t.logoutUser(),e=U(()=>!!t.user.id),r=()=>{i.value=!i.value},d=b(null),u=b(null),i=b(!1);return J(d,()=>{i.value=!1},{ignore:[u]}),{showNavbar:i,isLogin:e,logout:l,authStore:t,googleLogin:o,toggleNavbar:r,navbarMenuRef:d,navbarBurgerRef:u}}},w=t=>(G("data-v-3f8a416a"),t=t(),j(),t),X={class:"navbar navbar-expand-custom navbar-mainbg"},Y=w(()=>n("a",{class:"navbar-brand navbar-logo",href:"#/"},[n("div",{class:"logo"})],-1)),Z=w(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 14 14"},[n("path",{fill:"none",stroke:"#FFFFFF","stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 2H6m5 5H3.5m5 5h-8"})],-1)),$=[Z],ee={class:"navbar-nav ml-auto"},oe={class:"nav-item"},te={class:"nav-item"},ne={class:"nav-item"},ae={key:0,class:"nav-item"},se={key:1,class:"nav-item"},le={key:2,class:"nav-item"},ie={key:3,class:"nav-item"},re={key:4,class:"nav-item"},ce={class:"nav-item"},de=w(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 1536 1536"},[n("path",{fill:"#FFF",d:"M1451 0q35 0 60 25t25 60v1366q0 35-25 60t-60 25h-391V941h199l30-232h-229V561q0-56 23.5-84t91.5-28l122-1V241q-63-9-178-9q-136 0-217.5 80T820 538v171H620v232h200v595H85q-35 0-60-25t-25-60V85q0-35 25-60T85 0h1366z"})],-1)),ve=[de],ue={class:"wrapper"},fe=w(()=>n("footer",null,"© 2023",-1));function ge(t,o,l,e,r,d){const u=y("router-view"),i=y("el-main"),v=y("el-container");return f(),W(v,{class:"is-vertical"},{default:N(()=>[n("header",null,[n("nav",X,[Y,n("button",{class:"navbar-toggler",type:"button",onClick:o[0]||(o[0]=(...a)=>e.toggleNavbar&&e.toggleNavbar(...a)),"aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",ref:"navbarBurgerRef"},$,512),n("div",{class:D(["collapse navbar-collapse",{open:e.showNavbar}]),id:"navbarSupportedContent",ref:"navbarMenuRef"},[n("ul",ee,[n("li",oe,[e.authStore.user.id?(f(),g("a",{key:0,onClick:o[1]||(o[1]=E((...a)=>e.logout&&e.logout(...a),["prevent"]))},"登出")):(f(),g("a",{key:1,onClick:o[2]||(o[2]=E((...a)=>e.googleLogin&&e.googleLogin(...a),["prevent"]))},"登入"))]),n("li",te,[n("a",{class:"nav-link",href:"#/team",onClick:o[3]||(o[3]=a=>e.showNavbar=!1)},"團隊介紹")]),n("li",ne,[n("a",{class:"nav-link",href:"#/resource",onClick:o[4]||(o[4]=a=>e.showNavbar=!1)},"教材、講座資源")]),e.isLogin?(f(),g("li",ae,[n("a",{class:"nav-link",href:"#/rent-list",onClick:o[5]||(o[5]=a=>e.showNavbar=!1)},"已租借器材")])):_("",!0),e.isLogin?(f(),g("li",se,[n("a",{class:"nav-link",href:"#/rent",onClick:o[6]||(o[6]=a=>e.showNavbar=!1)},"租借器材")])):_("",!0),e.isLogin&&e.authStore.user.role==="teacher"?(f(),g("li",le,[n("a",{class:"nav-link",href:"#/course",onClick:o[7]||(o[7]=a=>e.showNavbar=!1)},"課程")])):_("",!0),e.isLogin&&e.authStore.user.role==="teacher"?(f(),g("li",ie,[n("a",{class:"nav-link",href:"#/post",onClick:o[8]||(o[8]=a=>e.showNavbar=!1)},"公告")])):_("",!0),e.isLogin&&e.authStore.user.role==="teacher"?(f(),g("li",re,[n("a",{class:"nav-link",href:"#/activity",onClick:o[9]||(o[9]=a=>e.showNavbar=!1)},"活動")])):_("",!0),n("li",ce,[n("a",{href:"https://m.facebook.com/NTUEBIGDATAEDU/?mibextid=LQQJ4d",class:"nav-link",target:"_blank`",onClick:o[10]||(o[10]=a=>e.showNavbar=!1)},ve)])])],2)])]),n("div",ue,[C(v,{class:"is-vertical"},{default:N(()=>[C(i,{id:"el-main"},{default:N(()=>[C(u)]),_:1})]),_:1})]),fe]),_:1})}const me=M(K,[["render",ge],["__scopeId","data-v-3f8a416a"]]);export{me as default};
