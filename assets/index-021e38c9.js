import{g as le,q as ue,a as ce}from"./quill-0ca21a08.js";class Je{constructor(e,i={}){this.quill=e,this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}handleDrop(e){if(e.preventDefault(),e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length){if(document.caretRangeFromPoint){const i=document.getSelection(),t=document.caretRangeFromPoint(e.clientX,e.clientY);i&&t&&i.setBaseAndExtent(t.startContainer,t.startOffset,t.startContainer,t.startOffset)}this.readFiles(e.dataTransfer.files,this.insert.bind(this))}}handlePaste(e){e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length&&this.readFiles(e.clipboardData.items,i=>{this.quill.getSelection()||setTimeout(()=>this.insert(i),0)})}insert(e){const i=(this.quill.getSelection()||{}).index||this.quill.getLength();this.quill.insertEmbed(i,"image",e,"user")}readFiles(e,i){[].forEach.call(e,t=>{if(!t.type.match(/^image\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\.microsoft\.icon)/i))return;const r=new FileReader;r.onload=s=>{i(s.target.result)};const l=t.getAsFile?t.getAsFile():t;l instanceof Blob&&r.readAsDataURL(l)})}}var J={},S={},k={},A={},fe=function(e){return se(e)&&!de(e)};function se(n){return!!n&&typeof n=="object"}function de(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||ge(n)}var he=typeof Symbol=="function"&&Symbol.for,ye=he?Symbol.for("react.element"):60103;function ge(n){return n.$$typeof===ye}function ve(n){return Array.isArray(n)?[]:{}}function D(n,e){return e.clone!==!1&&e.isMergeableObject(n)?_(ve(n),n,e):n}function pe(n,e,i){return n.concat(e).map(function(t){return D(t,i)})}function me(n,e,i){var t={};return i.isMergeableObject(n)&&Object.keys(n).forEach(function(r){t[r]=D(n[r],i)}),Object.keys(e).forEach(function(r){!i.isMergeableObject(e[r])||!n[r]?t[r]=D(e[r],i):t[r]=_(n[r],e[r],i)}),t}function _(n,e,i){i=i||{},i.arrayMerge=i.arrayMerge||pe,i.isMergeableObject=i.isMergeableObject||fe;var t=Array.isArray(e),r=Array.isArray(n),l=t===r;return l?t?i.arrayMerge(n,e,i):me(n,e,i):D(e,i)}_.all=function(e,i){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(t,r){return _(t,r,i)},{})};var be=_;const _e=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"})),Oe=le(_e);var w={},U;function b(){if(U)return w;U=1,Object.defineProperty(w,"__esModule",{value:!0});var n=function(){function l(s,f){for(var u=0;u<f.length;u++){var o=f[u];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}return function(s,f,u){return f&&l(s.prototype,f),u&&l(s,u),s}}(),e=p();i(e);function i(l){return l&&l.__esModule?l:{default:l}}function t(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}var r=function(){function l(s){t(this,l),this.formatter=s}return n(l,[{key:"onCreate",value:function(){}},{key:"onDestroy",value:function(){}},{key:"onUpdate",value:function(){}}]),l}();return w.default=r,w}var $;function p(){if($)return A;$=1,Object.defineProperty(A,"__esModule",{value:!0});var n=function(){function y(h,a){for(var c=0;c<a.length;c++){var g=a[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,a,c){return a&&y(h.prototype,a),c&&y(h,c),h}}(),e=Oe,i=f(e),t=ae(),r=f(t),l=b();f(l);var s=O();f(s);function f(y){return y&&y.__esModule?y:{default:y}}function u(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}var o=function(h,a){return a},d=function(){function y(h){var a=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u(this,y),this.onClick=function(){a.hide()},this.quill=h,this.options=(0,i.default)(r.default,c,{arrayMerge:o}),this.currentSpec=null,this.actions=[],this.overlay=document.createElement("div"),this.overlay.classList.add(this.options.overlay.className),this.options.overlay.style&&Object.assign(this.overlay.style,this.options.overlay.style),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.quill.root.addEventListener("click",this.onClick),this.specs=this.options.specs.map(function(g){return new g(a)}),this.specs.forEach(function(g){return g.init()})}return n(y,[{key:"show",value:function(a){this.currentSpec=a,this.currentSpec.setSelection(),this.setUserSelect("none"),this.quill.root.parentNode.appendChild(this.overlay),this.repositionOverlay(),this.createActions(a)}},{key:"hide",value:function(){this.currentSpec&&(this.currentSpec.onHide(),this.currentSpec=null,this.quill.root.parentNode.removeChild(this.overlay),this.overlay.style.setProperty("display","none"),this.setUserSelect(""),this.destroyActions())}},{key:"update",value:function(){this.repositionOverlay(),this.actions.forEach(function(a){return a.onUpdate()})}},{key:"createActions",value:function(a){var c=this;this.actions=a.getActions().map(function(g){var v=new g(c);return v.onCreate(),v})}},{key:"destroyActions",value:function(){this.actions.forEach(function(a){return a.onDestroy()}),this.actions=[]}},{key:"repositionOverlay",value:function(){if(this.currentSpec){var a=this.currentSpec.getOverlayElement();if(a){var c=this.quill.root.parentNode,g=a.getBoundingClientRect(),v=c.getBoundingClientRect();Object.assign(this.overlay.style,{display:"block",left:g.left-v.left-1+c.scrollLeft+"px",top:g.top-v.top+c.scrollTop+"px",width:g.width+"px",height:g.height+"px"})}}}},{key:"setUserSelect",value:function(a){var c=this,g=["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"];g.forEach(function(v){c.quill.root.style.setProperty(v,a),document.documentElement&&document.documentElement.style.setProperty(v,a)})}}]),y}();return A.default=d,A}var E={},B={};Object.defineProperty(B,"__esModule",{value:!0});var Se=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}();function j(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function ke(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var I="left",L="center",H="right",Ae=function(){function n(e){var i=this,t;ke(this,n),this.applyStyle=e.aligner.applyStyle,this.alignAttribute=e.attribute,this.alignments=(t={},j(t,I,{name:I,icon:e.icons.left,apply:function(l){i.setAlignment(l,I),i.setStyle(l,"inline","left","0 1em 1em 0")}}),j(t,L,{name:L,icon:e.icons.center,apply:function(l){i.setAlignment(l,L),i.setStyle(l,"block",null,"auto")}}),j(t,H,{name:H,icon:e.icons.right,apply:function(l){i.setAlignment(l,H),i.setStyle(l,"inline","right","0 0 1em 1em")}}),t)}return Se(n,[{key:"getAlignments",value:function(){var i=this;return Object.keys(this.alignments).map(function(t){return i.alignments[t]})}},{key:"clear",value:function(i){i.removeAttribute(this.alignAttribute),this.setStyle(i,null,null,null)}},{key:"isAligned",value:function(i,t){return i.getAttribute(this.alignAttribute)===t.name}},{key:"setAlignment",value:function(i,t){i.setAttribute(this.alignAttribute,t)}},{key:"setStyle",value:function(i,t,r,l){this.applyStyle&&(i.style.setProperty("display",t),i.style.setProperty("float",r),i.style.setProperty("margin",l))}}]),n}();B.default=Ae;var C={},F;function Q(){if(F)return C;F=1;var n=p();e(n);function e(i){return i&&i.__esModule?i:{default:i}}return C}var x={},z;function Z(){if(z)return x;z=1,Object.defineProperty(x,"__esModule",{value:!0});var n=function(){function l(s,f){for(var u=0;u<f.length;u++){var o=f[u];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,o.key,o)}}return function(s,f,u){return f&&l(s.prototype,f),u&&l(s,u),s}}();Q();var e=p();i(e);function i(l){return l&&l.__esModule?l:{default:l}}function t(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}var r=function(){function l(){t(this,l),this.toolbar=null,this.buttons=[]}return n(l,[{key:"create",value:function(f,u){var o=document.createElement("div");return o.classList.add(f.options.align.toolbar.mainClassName),this.addToolbarStyle(f,o),this.addButtons(f,o,u),this.toolbar=o,this.toolbar}},{key:"destroy",value:function(){this.toolbar=null,this.buttons=[]}},{key:"getElement",value:function(){return this.toolbar}},{key:"addToolbarStyle",value:function(f,u){f.options.align.toolbar.mainStyle&&Object.assign(u.style,f.options.align.toolbar.mainStyle)}},{key:"addButtonStyle",value:function(f,u,o){o.options.align.toolbar.buttonStyle&&(Object.assign(f.style,o.options.align.toolbar.buttonStyle),u>0&&(f.style.borderLeftWidth="0")),o.options.align.toolbar.svgStyle&&Object.assign(f.children[0].style,o.options.align.toolbar.svgStyle)}},{key:"addButtons",value:function(f,u,o){var d=this;o.getAlignments().forEach(function(y,h){var a=document.createElement("span");a.classList.add(f.options.align.toolbar.buttonClassName),a.innerHTML=y.icon,a.addEventListener("click",function(){d.onButtonClick(a,f,y,o)}),d.preselectButton(a,y,f,o),d.addButtonStyle(a,h,f),d.buttons.push(a),u.appendChild(a)})}},{key:"preselectButton",value:function(f,u,o,d){if(o.currentSpec){var y=o.currentSpec.getTargetElement();y&&d.isAligned(y,u)&&this.selectButton(o,f)}}},{key:"onButtonClick",value:function(f,u,o,d){if(u.currentSpec){var y=u.currentSpec.getTargetElement();y&&this.clickButton(f,y,u,o,d)}}},{key:"clickButton",value:function(f,u,o,d,y){var h=this;this.buttons.forEach(function(a){h.deselectButton(o,a)}),y.isAligned(u,d)?o.options.align.toolbar.allowDeselect?y.clear(u):this.selectButton(o,f):(this.selectButton(o,f),d.apply(u)),o.update()}},{key:"selectButton",value:function(f,u){u.classList.add("is-selected"),f.options.align.toolbar.addButtonSelectStyle&&u.style.setProperty("filter","invert(20%)")}},{key:"deselectButton",value:function(f,u){u.classList.remove("is-selected"),f.options.align.toolbar.addButtonSelectStyle&&u.style.removeProperty("filter")}}]),l}();return x.default=r,x}var N;function ee(){if(N)return E;N=1,Object.defineProperty(E,"__esModule",{value:!0});var n=function(){function a(c,g){for(var v=0;v<g.length;v++){var m=g[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,g,v){return g&&a(c.prototype,g),v&&a(c,v),c}}(),e=b(),i=u(e),t=p();u(t);var r=B,l=u(r);Q();var s=Z(),f=u(s);function u(a){return a&&a.__esModule?a:{default:a}}function o(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function d(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:a}function y(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}var h=function(a){y(c,a);function c(g){o(this,c);var v=d(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,g));return v.aligner=new l.default(g.options.align),v.toolbar=new f.default,v}return n(c,[{key:"onCreate",value:function(){var v=this.toolbar.create(this.formatter,this.aligner);this.formatter.overlay.appendChild(v)}},{key:"onDestroy",value:function(){var v=this.toolbar.getElement();v&&(this.formatter.overlay.removeChild(v),this.toolbar.destroy())}}]),c}(i.default);return E.default=h,E}var T={};Object.defineProperty(T,"__esModule",{value:!0});var we=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),Ee=b(),xe=te(Ee),Pe=p();te(Pe);function te(n){return n&&n.__esModule?n:{default:n}}function Re(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function De(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function Be(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Te=function(n){Be(e,n);function e(i){Re(this,e);var t=De(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return t.onMouseDown=function(r){if(r.target instanceof HTMLElement&&(t.dragHandle=r.target,t.setCursor(t.dragHandle.style.cursor),!!t.formatter.currentSpec)){var l=t.formatter.currentSpec.getTargetElement();if(l){var s=l.getBoundingClientRect();t.dragStartX=r.clientX,t.preDragWidth=s.width,t.targetRatio=s.height/s.width,document.addEventListener("mousemove",t.onDrag),document.addEventListener("mouseup",t.onMouseUp)}}},t.onDrag=function(r){if(t.formatter.currentSpec){var l=t.formatter.currentSpec.getTargetElement();if(l){var s=r.clientX-t.dragStartX,f=0;t.dragHandle===t.topLeftHandle||t.dragHandle===t.bottomLeftHandle?f=Math.round(t.preDragWidth-s):f=Math.round(t.preDragWidth+s);var u=t.targetRatio*f;l.setAttribute("width",""+f),l.setAttribute("height",""+u),t.formatter.update()}}},t.onMouseUp=function(){t.setCursor(""),document.removeEventListener("mousemove",t.onDrag),document.removeEventListener("mouseup",t.onMouseUp)},t.topLeftHandle=t.createHandle("top-left","nwse-resize"),t.topRightHandle=t.createHandle("top-right","nesw-resize"),t.bottomRightHandle=t.createHandle("bottom-right","nwse-resize"),t.bottomLeftHandle=t.createHandle("bottom-left","nesw-resize"),t.dragHandle=null,t.dragStartX=0,t.preDragWidth=0,t.targetRatio=0,t}return we(e,[{key:"onCreate",value:function(){this.formatter.overlay.appendChild(this.topLeftHandle),this.formatter.overlay.appendChild(this.topRightHandle),this.formatter.overlay.appendChild(this.bottomRightHandle),this.formatter.overlay.appendChild(this.bottomLeftHandle),this.repositionHandles(this.formatter.options.resize.handleStyle)}},{key:"onDestroy",value:function(){this.setCursor(""),this.formatter.overlay.removeChild(this.topLeftHandle),this.formatter.overlay.removeChild(this.topRightHandle),this.formatter.overlay.removeChild(this.bottomRightHandle),this.formatter.overlay.removeChild(this.bottomLeftHandle)}},{key:"createHandle",value:function(t,r){var l=document.createElement("div");return l.classList.add(this.formatter.options.resize.handleClassName),l.setAttribute("data-position",t),l.style.cursor=r,this.formatter.options.resize.handleStyle&&Object.assign(l.style,this.formatter.options.resize.handleStyle),l.addEventListener("mousedown",this.onMouseDown),l}},{key:"repositionHandles",value:function(t){var r="0px",l="0px";t&&(t.width&&(r=-parseFloat(t.width)/2+"px"),t.height&&(l=-parseFloat(t.height)/2+"px")),Object.assign(this.topLeftHandle.style,{left:r,top:l}),Object.assign(this.topRightHandle.style,{right:r,top:l}),Object.assign(this.bottomRightHandle.style,{right:r,bottom:l}),Object.assign(this.bottomLeftHandle.style,{left:r,bottom:l})}},{key:"setCursor",value:function(t){if(document.body&&(document.body.style.cursor=t),this.formatter.currentSpec){var r=this.formatter.currentSpec.getOverlayElement();r&&(r.style.cursor=t)}}}]),e}(xe.default);T.default=Te;var q={};Object.defineProperty(q,"__esModule",{value:!0});var qe=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),Me=ue,je=ne(Me),Ie=b(),Le=ne(Ie);function ne(n){return n&&n.__esModule?n:{default:n}}function He(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function V(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function Ue(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var $e=function(n){Ue(e,n);function e(){var i,t,r,l;He(this,e);for(var s=arguments.length,f=Array(s),u=0;u<s;u++)f[u]=arguments[u];return l=(t=(r=V(this,(i=e.__proto__||Object.getPrototypeOf(e)).call.apply(i,[this].concat(f))),r),r.onKeyUp=function(o){if(r.formatter.currentSpec&&(o.keyCode===46||o.keyCode===8)){var d=je.default.find(r.formatter.currentSpec.getTargetElement());d&&d.deleteAt(0),r.formatter.hide()}},t),V(r,l)}return qe(e,[{key:"onCreate",value:function(){document.addEventListener("keyup",this.onKeyUp,!0),this.formatter.quill.root.addEventListener("input",this.onKeyUp,!0)}},{key:"onDestroy",value:function(){document.removeEventListener("keyup",this.onKeyUp),this.formatter.quill.root.removeEventListener("input",this.onKeyUp)}}]),e}(Le.default);q.default=$e;var X;function O(){if(X)return k;X=1,Object.defineProperty(k,"__esModule",{value:!0});var n=function(){function h(a,c){for(var g=0;g<c.length;g++){var v=c[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(a,v.key,v)}}return function(a,c,g){return c&&h(a.prototype,c),g&&h(a,g),a}}(),e=p();o(e);var i=b();o(i);var t=ee(),r=o(t),l=T,s=o(l),f=q,u=o(f);function o(h){return h&&h.__esModule?h:{default:h}}function d(h,a){if(!(h instanceof a))throw new TypeError("Cannot call a class as a function")}var y=function(){function h(a){d(this,h),this.formatter=a}return n(h,[{key:"init",value:function(){}},{key:"getActions",value:function(){return[r.default,s.default,u.default]}},{key:"getTargetElement",value:function(){return null}},{key:"getOverlayElement",value:function(){return this.getTargetElement()}},{key:"setSelection",value:function(){this.formatter.quill.setSelection(null)}},{key:"onHide",value:function(){}}]),h}();return k.default=y,k}var P={},W;function re(){if(W)return P;W=1,Object.defineProperty(P,"__esModule",{value:!0});var n=function(){function o(d,y){for(var h=0;h<y.length;h++){var a=y[h];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}return function(d,y,h){return y&&o(d.prototype,y),h&&o(d,h),d}}(),e=O(),i=r(e),t=p();r(t);function r(o){return o&&o.__esModule?o:{default:o}}function l(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function s(o,d){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:o}function f(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(o,d):o.__proto__=d)}var u=function(o){f(d,o);function d(y){l(this,d);var h=s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y));return h.onClick=function(a){var c=a.target;!(c instanceof HTMLElement)||c.tagName!=="IMG"||(h.img=c,h.formatter.show(h))},h.img=null,h}return n(d,[{key:"init",value:function(){this.formatter.quill.root.addEventListener("click",this.onClick)}},{key:"getTargetElement",value:function(){return this.img}},{key:"onHide",value:function(){this.img=null}}]),d}(i.default);return P.default=u,P}var R={},M={};Object.defineProperty(M,"__esModule",{value:!0});var Ce=function(){function n(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,i,t){return i&&n(e.prototype,i),t&&n(e,t),e}}(),Fe=O(),ze=ie(Fe),Ne=p();ie(Ne);function ie(n){return n&&n.__esModule?n:{default:n}}function Ve(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xe(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function We(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var G="data-blot-formatter-unclickable-bound",Ge="blot-formatter__proxy-image",Ke=function(n){We(e,n);function e(i,t){Ve(this,e);var r=Xe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return r.onTextChange=function(){Array.from(document.querySelectorAll(r.selector+":not(["+G+"])")).forEach(function(l){l.setAttribute(G,"true"),l.addEventListener("mouseenter",r.onMouseEnter)})},r.onMouseEnter=function(l){var s=l.target;s instanceof HTMLElement&&(r.nextUnclickable=s,r.repositionProxyImage(r.nextUnclickable))},r.onProxyImageClick=function(){r.unclickable=r.nextUnclickable,r.nextUnclickable=null,r.formatter.show(r),r.hideProxyImage()},r.selector=t,r.unclickable=null,r.nextUnclickable=null,r}return Ce(e,[{key:"init",value:function(){document.body&&document.body.appendChild(this.createProxyImage()),this.hideProxyImage(),this.proxyImage.addEventListener("click",this.onProxyImageClick),this.formatter.quill.on("text-change",this.onTextChange)}},{key:"getTargetElement",value:function(){return this.unclickable}},{key:"getOverlayElement",value:function(){return this.unclickable}},{key:"onHide",value:function(){this.hideProxyImage(),this.nextUnclickable=null,this.unclickable=null}},{key:"createProxyImage",value:function(){var t=document.createElement("canvas"),r=t.getContext("2d");return r.globalAlpha=0,r.fillRect(0,0,1,1),this.proxyImage=document.createElement("img"),this.proxyImage.src=t.toDataURL("image/png"),this.proxyImage.classList.add(Ge),Object.assign(this.proxyImage.style,{position:"absolute",margin:"0"}),this.proxyImage}},{key:"hideProxyImage",value:function(){Object.assign(this.proxyImage.style,{display:"none"})}},{key:"repositionProxyImage",value:function(t){var r=t.getBoundingClientRect();Object.assign(this.proxyImage.style,{display:"block",left:r.left+window.pageXOffset+"px",top:r.top+window.pageYOffset+"px",width:r.width+"px",height:r.height+"px"})}}]),e}(ze.default);M.default=Ke;var K;function oe(){if(K)return R;K=1,Object.defineProperty(R,"__esModule",{value:!0});var n=M,e=t(n),i=p();t(i);function t(u){return u&&u.__esModule?u:{default:u}}function r(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function l(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function s(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var f=function(u){s(o,u);function o(d){return r(this,o),l(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,d,"iframe.ql-video"))}return o}(e.default);return R.default=f,R}var Y;function ae(){if(Y)return S;Y=1,Object.defineProperty(S,"__esModule",{value:!0});var n=O();l(n);var e=re(),i=l(e),t=oe(),r=l(t);function l(f){return f&&f.__esModule?f:{default:f}}var s={specs:[i.default,r.default],overlay:{className:"blot-formatter__overlay",style:{position:"absolute",boxSizing:"border-box",border:"1px dashed #444"}},align:{attribute:"data-align",aligner:{applyStyle:!0},icons:{left:`
        <svg viewbox="0 0 18 18">
          <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>
          <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>
          <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>
        </svg>
      `,center:`
        <svg viewbox="0 0 18 18">
           <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>
          <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>
          <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>
        </svg>
      `,right:`
        <svg viewbox="0 0 18 18">
          <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>
          <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>
          <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>
        </svg>
      `},toolbar:{allowDeselect:!0,mainClassName:"blot-formatter__toolbar",mainStyle:{position:"absolute",top:"-12px",right:"0",left:"0",height:"0",minWidth:"100px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"center",color:"#333",boxSizing:"border-box",cursor:"default",zIndex:"1"},buttonClassName:"blot-formatter__toolbar-button",addButtonSelectStyle:!0,buttonStyle:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"},svgStyle:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"}}},resize:{handleClassName:"blot-formatter__resize-handle",handleStyle:{position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80"}}};return S.default=s,S}(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=ae();Object.defineProperty(n,"DefaultOptions",{enumerable:!0,get:function(){return a(e).default}});var i=p();Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a(i).default}});var t=b();Object.defineProperty(n,"Action",{enumerable:!0,get:function(){return a(t).default}});var r=ee();Object.defineProperty(n,"AlignAction",{enumerable:!0,get:function(){return a(r).default}});var l=B;Object.defineProperty(n,"DefaultAligner",{enumerable:!0,get:function(){return a(l).default}});var s=Z();Object.defineProperty(n,"DefaultToolbar",{enumerable:!0,get:function(){return a(s).default}});var f=q;Object.defineProperty(n,"DeleteAction",{enumerable:!0,get:function(){return a(f).default}});var u=T;Object.defineProperty(n,"ResizeAction",{enumerable:!0,get:function(){return a(u).default}});var o=O();Object.defineProperty(n,"BlotSpec",{enumerable:!0,get:function(){return a(o).default}});var d=re();Object.defineProperty(n,"ImageSpec",{enumerable:!0,get:function(){return a(d).default}});var y=M;Object.defineProperty(n,"UnclickableBlotSpec",{enumerable:!0,get:function(){return a(y).default}});var h=oe();Object.defineProperty(n,"IframeVideoSpec",{enumerable:!0,get:function(){return a(h).default}});function a(c){return c&&c.__esModule?c:{default:c}}})(J);const Qe=ce(J);export{Qe as B,Je as I};
